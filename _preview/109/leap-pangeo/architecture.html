
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>LEAP-Pangeo Architecture &#8212; Technical Documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LEAP-Pangeo Implementation Plan" href="implementation.html" />
    <link rel="prev" title="LEAP-Pangeo JupyterHub" href="jupyterhub.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/LEAP_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Technical Documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   LEAP Technical Documentation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Policies
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../policies/code_policy.html">
   Code Policy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../policies/data_policy.html">
   Data Policy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../policies/infrastructure_policy.html">
   Infrastructure Policy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../policies/users_roles.html">
   Users and Categories
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  LEAP-Pangeo
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="jupyterhub.html">
   LEAP-Pangeo JupyterHub
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   LEAP-Pangeo Architecture
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="implementation.html">
   LEAP-Pangeo Implementation Plan
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="solutions.html">
   Common Problems (with Solutions)
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Guides
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../guides/education.html">
   LEAP-Pangeo for Education
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../guides/team_docs.html">
   Onboarding Guide for Data and Computation Team Members
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Miscellaneous
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../support.html">
   Support
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../how_to_cite.html">
   How to cite LEAP-Pangeo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../references.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/leap-pangeo/architecture.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/leap-stc/leap-stc.github.io"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/leap-stc/leap-stc.github.io/issues/new?title=Issue%20on%20page%20%2Fleap-pangeo/architecture.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation">
   Motivation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#design-principles">
   Design Principles
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#related-tools-and-platforms">
   Related Tools and Platforms
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#design-and-architecture">
   Design and Architecture
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-data-library">
     The Data Library
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-storage-service">
     Data Storage Service
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#pangeo-forge">
       Pangeo Forge
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#catalog">
       Catalog
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-hub">
     The Hub
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-knowledge-graph">
     The Knowledge Graph
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>LEAP-Pangeo Architecture</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation">
   Motivation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#design-principles">
   Design Principles
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#related-tools-and-platforms">
   Related Tools and Platforms
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#design-and-architecture">
   Design and Architecture
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-data-library">
     The Data Library
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-storage-service">
     Data Storage Service
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#pangeo-forge">
       Pangeo Forge
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#catalog">
       Catalog
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-hub">
     The Hub
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-knowledge-graph">
     The Knowledge Graph
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="leap-pangeo-architecture">
<h1>LEAP-Pangeo Architecture<a class="headerlink" href="#leap-pangeo-architecture" title="Permalink to this headline">¶</a></h1>
<p>LEAP-Pangeo is a cloud-based data and computing platform that will be used to support research, education, and knowledge transfer within the LEAP program.</p>
<section id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>The motivation and justification for developing LEAP-Pangeo are laid out in several recent peer-reviewed publications: <span id="id1">[<a class="reference internal" href="../references.html#id2" title="Ryan P. Abernathey, Tom Augspurger, Anderson Banihirwe, Charles C. Blackmon-Luca, Timothy J. Crone, Chelle L. Gentemann, Joseph J. Hamman, Naomi Henderson, Chiara Lepore, Theo A. McCaie, Niall H. Robinson, and Richard P. Signell. Cloud-native repositories for big scientific data. Computing in Science Engineering, 23(2):26-35, 2021. doi:10.1109/MCSE.2021.3059437.">Abernathey <em>et al.</em>, 2021</a>]</span> and <span id="id2">[<a class="reference internal" href="../references.html#id3" title="C. L. Gentemann, C. Holdgraf, R. Abernathey, D. Crichton, J. Colliander, E. J. Kearns, Y. Panda, and R. P. Signell. Science storms the cloud. AGU Advances, 2(2):e2020AV000354, 2021. e2020AV000354 2020AV000354. URL: https://agupubs.onlinelibrary.wiley.com/doi/abs/10.1029/2020AV000354, arXiv:https://agupubs.onlinelibrary.wiley.com/doi/pdf/10.1029/2020AV000354, doi:https://doi.org/10.1029/2020AV000354.">Gentemann <em>et al.</em>, 2021</a>]</span>.
To summarize these arguments, a shared data and computing platform will:</p>
<ul class="simple">
<li><p>Empower LEAP participants with instant access to high-performance computing and analysis-ready data in order to support ambitious research objectives</p></li>
<li><p>Facilitate seamless collaboration between project members around data-intensive science, accelerating research progress</p></li>
<li><p>Enable rich data-driven classroom experiences for learners, helping them transition successfully from coursework to research</p></li>
<li><p>Place actionable data in the hands of LEAP partners to support knowledge transfer</p></li>
</ul>
</section>
<section id="design-principles">
<h2>Design Principles<a class="headerlink" href="#design-principles" title="Permalink to this headline">¶</a></h2>
<p>In the proposal, we committed to building this in a way that enables the tools and infrastructure to be reused and remixed.
So The challenge for LEAP Pangeo is to deploy an “enterprise quality” platform built entirely out of open-source tools, and to make this platform as reusable and useful for the broader climate science community as possible.
We committed to following the following design principles:</p>
<ul class="simple">
<li><p>Open source</p></li>
<li><p>Modular system: built out of smaller, standalone pieces which interoperate through clearly documented interfaces / standards</p></li>
<li><p>Agile development on GitHub</p></li>
<li><p>Following industry-standard best practices for continuous deployment, testing, etc.</p></li>
<li><p>Resuse of existing technologies and contribution to “upstream” open source projects on which LEAP-Pangeo depends
(rather than development of new stuff just for the sake of it).
This is a key part of our sustainability plan.</p></li>
</ul>
</section>
<section id="related-tools-and-platforms">
<h2>Related Tools and Platforms<a class="headerlink" href="#related-tools-and-platforms" title="Permalink to this headline">¶</a></h2>
<p>It’s useful to understand the recent history and related efforts in this space.</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://research.google.com/colaboratory/faq.html">Google Colab</a></strong> is a free notebook-in-the-cloud service run by Google.
It is built around the open source Jupyter project, but with advanced notebook sharing capabilities (like Google Docs).</p></li>
<li><p><strong><a class="reference external" href="https://earthengine.google.org/">Google Earth Engine</a></strong> is a reference point for all cloud geospatial analytics platforms.
It’s actually a standalone application that is separate from Google Cloud, the single instance of a highly customized, black box (i.e. not open source)  application that enables parallel computing on distributed data.
It’s very good at what it was designed for (analyzing satellite images), but isn’t easily adapted to other applications, such as machine learning.</p></li>
<li><p><strong><a class="reference external" href="https://iridl.ldeo.columbia.edu/index.html">Columbia IRI Data Library</a></strong> is a powerful and freely accessible online data repository and analysis tool that allows a user to view, analyze, and download hundreds of terabytes of climate-related data through a standard web browser.
Due to its somewhat outdated architecture, IRI data library cannot easily be updated or adapted to new projects.</p></li>
<li><p><strong><a class="reference external" href="http://pangeo.io/">Pangeo</a></strong> is an open science community oriented around open-source python tools for big-data geoscience.
It is a loose ecosystem of interoperable python packages including <a class="reference external" href="https://jupyter.org/">Jupyter</a>, <a class="reference external" href="http://xarray.pydata.org/">Xarray</a>, <a class="reference external" href="http://dask.pydata.org/">Dask</a>, and <a class="reference external" href="https://zarr.readthedocs.io/">Zarr</a>.
The Pangeo tools have been deployed in nearly all commercial clouds (AWS, GCP, Azure) as well as HPC environments.
<a class="reference external" href="https://pangeo.io/cloud.html">Pangeo Cloud</a> is a publicly accessible data-proximate computing environment based on Pangeo tools.
Pangeo is used heavily within NCAR.</p></li>
<li><p><strong><a class="reference external" href="https://planetarycomputer.microsoft.com/">Microsoft Planetary Computer</a></strong> is a collection of datasets and computational tools hosted by Microsoft in the Azure cloud.
It combines Pangeo-style computing environments with a data library based on <a class="reference external" href="https://stacspec.org/">SpatioTemporal Asset Catalog</a></p></li>
<li><p><strong><a class="reference external" href="https://www.radiant.earth/mlhub/">Radiant Earth ML Hub</a></strong> is a cloud-based open library dedicated to Earth observation training data for use with machine learning algorithms.
It focuses mostly on data access and curation.
Data are cataloged using STAC.</p></li>
<li><p><strong><a class="reference external" href="https://pangeo-forge.org/">Pangeo Forge</a></strong> is a new initiative, funded by the NSF EarthCube program, to build a platform for
“crowdsourcing” the production of analysis-ready, cloud-optimized data.
Once operational, Pangeo Forge will be a useful tool for many different projects which need data in the cloud.</p></li>
</ul>
<p>Of these different tools, we opt to build on Pangeo because of its open-source, grassroots
foundations in the climate data science community, strong uptake within NCAR, and track-record of support from NSF.</p>
</section>
<section id="design-and-architecture">
<h2>Design and Architecture<a class="headerlink" href="#design-and-architecture" title="Permalink to this headline">¶</a></h2>
<figure class="align-default" id="architecture-diagram">
<img alt="https://i.imgur.com/PVhoQUu.png" src="https://i.imgur.com/PVhoQUu.png" />
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">LEAP-Pangeo high-level architecture diagram</span><a class="headerlink" href="#architecture-diagram" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>There are four primary components to LEAP-Pangeo.</p>
<section id="the-data-library">
<h3>The Data Library<a class="headerlink" href="#the-data-library" title="Permalink to this headline">¶</a></h3>
<p>The data library will provide analysis-ready, cloud-optimized data for all aspects of LEAP.
The data library is directly inspired by the <a class="reference external" href="https://iridl.ldeo.columbia.edu">IRI Data Library</a> mentioned above; however, LEAP-Pangeo data will be hosted in the cloud, for maximum impact, accessibility, and interoperability.</p>
<p>The contents of the data library will evolve dynamically based on the needs of the project.
Examples of data that may become part of the library are</p>
<ul class="simple">
<li><p>NOAA <a class="reference external" href="https://www.ncei.noaa.gov/products/optimum-interpolation-sst">OISST</a> sea-surface temperature data,
used in workshops and classes to illustrate the fundamentals of geospatial data science.</p></li>
<li><p>High-resolution climate model simulations from the <a class="reference external" href="https://news.ucar.edu/132760/csu-ncar-develop-high-res-global-model-community-use">NCAR “EarthWorks”</a>
project, used by LEAP researchers to develop machine-learning parameterizations of climate processes like cloud and ocean eddies.</p></li>
<li><p>Machine-learning “challenge datasets,” published by the LEAP Team and accessible to the world, to help broading participation
by ML researchers into climate science.</p></li>
<li><p>Easily accessible syntheses of climate projections from <a class="reference external" href="https://esgf-node.llnl.gov/projects/cmip6/">CMIP6 data</a>, produced by the LEAP team,
for use by industry partners for business strategy and decision making.</p></li>
</ul>
</section>
<section id="data-storage-service">
<h3>Data Storage Service<a class="headerlink" href="#data-storage-service" title="Permalink to this headline">¶</a></h3>
<p>The underlying technology for the LEAP Data catalog will be cloud object storage (e.g. Amazon S3),
which enables high throughput concurrent access to many simultaneous users over the public internet.
Cloud Object Storage is the most performant, cost-effective, and simple way to serve such large volumes of data.</p>
<p>Initially, the LEAP data will be stored in Google Cloud Storage, in the same cloud region
as the JupyterHub.
Going forward, we will work with NCAR to obtain an <a class="reference external" href="https://www.openstoragenetwork.org/">Open Storage Network</a>
pod which allows data to be accessible from both Google Cloud and NCAR’s computing system.</p>
<section id="pangeo-forge">
<h4>Pangeo Forge<a class="headerlink" href="#pangeo-forge" title="Permalink to this headline">¶</a></h4>
<figure class="align-default" id="pangeo-forge-flow">
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/pangeo-forge/flow-charts/main/renders/architecture.png"><img alt="https://raw.githubusercontent.com/pangeo-forge/flow-charts/main/renders/architecture.png" src="https://raw.githubusercontent.com/pangeo-forge/flow-charts/main/renders/architecture.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">Pangeo Forge high-level workflow. Diagram from <a class="reference external" href="https://github.com/pangeo-forge/flow-charts">https://github.com/pangeo-forge/flow-charts</a></span><a class="headerlink" href="#pangeo-forge-flow" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>A central tool for the population and maintenance of the LEAP-Pangeo data catalog is
<a class="reference external" href="https://pangeo-forge.readthedocs.io/en/latest/">Pangeo Forge</a>.
Pangeo Forge is an open source tool for data Extraction, Transformation, and Loading (ETL).
The goal of Pangeo Forge is to make it easy to extract data from traditional data repositories and deposit in cloud object storage in analysis-ready, cloud-optimized (ARCO) format.</p>
<p>Pangeo Forge works by allowing domain scientists to define “recipes” that describe data transformation pipelines.
These recipes are stored in GitHub repositories.
Continuous integration monitors GitHub and automatically executes the data pipelines when needed.
The use of distributed, cloud-based processing allows very large volumes of data to be processed quickly.</p>
<p>Pangeo Forge is a new project, funded by the NSF EarthCube program.
LEAP-Pangeo will provide a high-impact use case for Pangeo Forge, and Pangeo Forge
will empower and enhance LEAP research.
This synergistic relationship with be mutually beneficial to two NSF-sponsored projects.
Using Pangeo Forge effectively will require LEAP scientists and data engineers to engage
with the open-source development process around Pangeo Forge and related technologies.</p>
</section>
<section id="catalog">
<h4>Catalog<a class="headerlink" href="#catalog" title="Permalink to this headline">¶</a></h4>
<p>A <a class="reference external" href="https://stacspec.org/">STAC</a> data catalog be used to enumerate all LEAP-Pangeo datasets and provide this information to the public.
The catalog will store all relevant metadata about LEAP datasets following established metadata standards (e.g. CF Conventions).
It will also provide direct links to raw data in cloud object storage.</p>
<p>The catalog will facilitate several different modes of access:</p>
<ul class="simple">
<li><p>Searching, crawling, and opening datasets from within notebooks or scripts</p></li>
<li><p>“Crawling” by search indexes or other machine-to-machine interfaces</p></li>
<li><p>A pretty web front-end interface for interactive public browsing</p></li>
</ul>
<p>The <a class="reference external" href="https://mlhub.earth/">Radiant Earth MLHub</a> is a great reference for how we imagine the LEAP data catalog will eventually look.</p>
</section>
</section>
<section id="the-hub">
<h3>The Hub<a class="headerlink" href="#the-hub" title="Permalink to this headline">¶</a></h3>
<figure class="align-default" id="jupyterlab-preview">
<a class="reference internal image-reference" href="https://jupyter.org/assets/homepage/labpreview.webp"><img alt="https://jupyter.org/assets/homepage/labpreview.webp" src="https://jupyter.org/assets/homepage/labpreview.webp" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">Screenshot from JupyterLab. From <a class="reference external" href="https://jupyter.org/">https://jupyter.org/</a></span><a class="headerlink" href="#jupyterlab-preview" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Jupyter Notebook / Lab has emerged as the standard tool for doing interactive data science.
Jupyter supports combining rich text, code, and generated outputs (e.g. figures) into a single document, creating a way to communicate and share complete data-science research project</p>
<figure class="align-default" id="jupyterhub-architecture">
<a class="reference internal image-reference" href="https://jupyterhub.readthedocs.io/en/stable/_images/jhub-fluxogram.jpeg"><img alt="https://jupyterhub.readthedocs.io/en/stable/_images/jhub-fluxogram.jpeg" src="https://jupyterhub.readthedocs.io/en/stable/_images/jhub-fluxogram.jpeg" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">JupyterHub architecture. From <a class="reference external" href="https://jupyterhub.readthedocs.io/">https://jupyterhub.readthedocs.io/</a></span><a class="headerlink" href="#jupyterhub-architecture" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>JupyterHub is a multi-user Jupyter Notebook / Lab environment that runs on a server.
JupyterHub provides a gateway to highly customized software environments backed by dedicated computing with specified resources (CPU, RAM, GPU, etc.)
Running in the cloud, JupyterHub can scale up to accommodate any number of simultaneous users with no degradation in
performance.
JupyterHub environments can support basically <a class="reference external" href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">every existing programming language</a>.
We anticipate that LEAP users will primarily use <strong>Python</strong>, <strong>R</strong>, and <strong>Julia</strong> programming languages.
In addition to Jupyter Notebook / Lab, JupyterHub also supports launching <a class="reference external" href="https://www.rstudio.com/">R Studio</a>.</p>
<p>The Pangeo project already provides <a class="reference external" href="https://github.com/pangeo-data/pangeo-docker-images">curated Docker images</a>
with full-featured Python software environments for environmental data science.
These environments will be the starting point for LEAP environments.
They may be augmented as LEAP evolves with more specific software as needed by research projects.</p>
<p>Use management and access control for the Hub are described in <a class="reference internal" href="../policies/users_roles.html"><span class="doc">Users and Categories</span></a>.
We use GitHub for identity management, in order to make it easy to include participants
from any partner institution..</p>
</section>
<section id="the-knowledge-graph">
<h3>The Knowledge Graph<a class="headerlink" href="#the-knowledge-graph" title="Permalink to this headline">¶</a></h3>
<p>LEAP “outputs” will be of four main types:</p>
<ul class="simple">
<li><p><strong>Datasets</strong> (covered above)</p></li>
<li><p><strong>Papers</strong> - traditional scientific publications</p></li>
<li><p><strong>Project Code</strong> - the code behind the papers, used to actually generate the scientific results</p></li>
<li><p><strong>Trained ML Models</strong> - models that can be used directly for inference by others</p></li>
<li><p><strong>Educational Modules</strong> - used for teaching</p></li>
</ul>
<p>All of these object must be tracked and cataloged in a uniform way.
The <a class="reference internal" href="../policies/code_policy.html"><span class="doc">Code Policy</span></a> and <a class="reference internal" href="../policies/data_policy.html"><span class="doc">Data Policy</span></a> will help set these standards.</p>
<figure class="align-default" id="knowledge-graph">
<a class="reference internal image-reference" href="../_images/LEAP_knowledge_graph.png"><img alt="../_images/LEAP_knowledge_graph.png" src="../_images/LEAP_knowledge_graph.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">LEAP Knowledge Graph</span><a class="headerlink" href="#knowledge-graph" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>By tracking the linked relationships between datasets, papers, code, models, and educational , we will generate a “knowledge graph”.
This graph will reveal the dynamic, evolving state of the outputs of LEAP research and the relationships between different elements of the project.
By also tracking participations (i.e. humans), we will build a novel and inspiring track record of LEAP’s impacts through the project lifetime.</p>
<p>This is the most open-ended aspect of our infrastructure.
Organizing and displaying this information effectively is a challenging problem in
information architecture and systems design.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./leap-pangeo"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="jupyterhub.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">LEAP-Pangeo JupyterHub</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="implementation.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">LEAP-Pangeo Implementation Plan</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By LEAP Community<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>