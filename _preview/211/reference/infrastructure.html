
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Infrastructure &#8212; Technical Documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Membership" href="membership.html" />
    <link rel="prev" title="LEAP-Pangeo Infrastructure Policy" href="../explanation/infrastructure_policy.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/LEAP_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Technical Documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   LEAP Technical Documentation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/getting_started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/ingesting_dataset.html">
   Ingesting Data into the Cloud
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/education_guide.html">
   Education Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/bootcamp_guide.html">
   Bootcamp Guide
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Guides
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../guides/code_guide.html">
   Code Guide
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../guides/data_guide.html">
   Data Guide
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/data_guides/transfer_data.html">
     Transfering Data into Cloud Storage
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/data_guides/data_catalog.html">
     Working with the LEAP Data Catalog
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/data_guides/data_jupyterhub.html">
     Working with Cloud Data on the JupyterHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/data_guides/external_workflow.html">
     Working outside the LEAP JupyterHub
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../guides/compute_guide.html">
   Compute Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../guides/vm_access.html">
   Getting access to Cloud VMs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../guides/team_guide.html">
   Guide for Data and Computation Team Members
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../guides/faq.html">
   FAQs
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Explanation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../explanation/architecture.html">
   LEAP-Pangeo Architecture
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../explanation/implementation.html">
   LEAP-Pangeo Implementation Plan
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../explanation/code_policy.html">
   LEAP-Pangeo Code Policy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../explanation/data_policy.html">
   LEAP-Pangeo Data Policy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../explanation/infrastructure_policy.html">
   LEAP-Pangeo Infrastructure Policy
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Infrastructure
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="membership.html">
   Membership
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="education.html">
   Education
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Miscellaneous
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../support.html">
   Getting Help
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../how_to_cite.html">
   How to cite LEAP-Pangeo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../references.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/reference/infrastructure.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/leap-stc/leap-stc.github.io"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/leap-stc/leap-stc.github.io/issues/new?title=Issue%20on%20page%20%2Freference/infrastructure.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#leap-pangeo-data-catalog">
   LEAP-Pangeo Data Catalog
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#leap-pangeo-jupyterhub">
   LEAP-Pangeo JupyterHub
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#server">
     Server
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#managing-servers">
       Managing Servers
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#your-user-directory">
     Your User Directory
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-software-environment">
     The Software Environment
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#preselected-images">
       Preselected Images
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#custom-images">
       Custom Images
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#installing-additonal-packages">
       Installing additonal packages
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cloud-storage">
   Cloud Storage
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#m2lines-osn-pod">
     m2lines OSN Pod
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#osn-pod-organization">
       OSN Pod Organization
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#credentials">
       Credentials
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#leap-pangeo-cloud-storage-buckets">
   LEAP-Pangeo Cloud Storage Buckets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compute">
   Compute
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#access-to-leap-pangeo-resources-without-the-jupyterhub">
   Access to LEAP-Pangeo resources without the JupyterHub
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#temporary-token">
     Temporary Token
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#persistent-access-via-google-groups">
     Persistent Access via Google Groups
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#service-account">
     Service Account
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#analysis-ready-cloud-optimized-arco-data">
   Analysis-Ready Cloud-Optimized (ARCO) Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#zarr">
     Zarr
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pangeo-forge">
   Pangeo-Forge
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Infrastructure</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#leap-pangeo-data-catalog">
   LEAP-Pangeo Data Catalog
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#leap-pangeo-jupyterhub">
   LEAP-Pangeo JupyterHub
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#server">
     Server
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#managing-servers">
       Managing Servers
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#your-user-directory">
     Your User Directory
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-software-environment">
     The Software Environment
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#preselected-images">
       Preselected Images
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#custom-images">
       Custom Images
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#installing-additonal-packages">
       Installing additonal packages
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cloud-storage">
   Cloud Storage
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#m2lines-osn-pod">
     m2lines OSN Pod
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#osn-pod-organization">
       OSN Pod Organization
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#credentials">
       Credentials
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#leap-pangeo-cloud-storage-buckets">
   LEAP-Pangeo Cloud Storage Buckets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compute">
   Compute
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#access-to-leap-pangeo-resources-without-the-jupyterhub">
   Access to LEAP-Pangeo resources without the JupyterHub
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#temporary-token">
     Temporary Token
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#persistent-access-via-google-groups">
     Persistent Access via Google Groups
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#service-account">
     Service Account
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#analysis-ready-cloud-optimized-arco-data">
   Analysis-Ready Cloud-Optimized (ARCO) Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#zarr">
     Zarr
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pangeo-forge">
   Pangeo-Forge
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="infrastructure">
<h1>Infrastructure<a class="headerlink" href="#infrastructure" title="Permalink to this headline">¶</a></h1>
<div class="section" id="leap-pangeo-data-catalog">
<span id="reference-infrastructure-catalog"></span><h2>LEAP-Pangeo Data Catalog<a class="headerlink" href="#leap-pangeo-data-catalog" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Catalog Address</strong></p></td>
<td><p><a class="reference external" href="http://catalog.leap.columbia.edu">catalog.leap.columbia.edu</a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Management Repo</strong></p></td>
<td><p><a class="reference external" href="https://github.com/leap-stc/data-management">https://github.com/leap-stc/data-management</a></p></td>
</tr>
<tr class="row-even"><td><p><strong>Maintained in collaboration with</strong></p></td>
<td><p><a class="reference external" href="https://carbonplan.org">Carbonplan</a></p></td>
</tr>
</tbody>
</table>
<p>For more explanation about the catalog, and its role in the overall vision of LEAP, see <a class="reference internal" href="../explanation/architecture.html#explanation-architecture"><span class="std std-ref">LEAP-Pangeo Architecture</span></a>. See <a class="reference internal" href="../guides/data_guides/transfer_data.html#guides-data-ingestion"><span class="std std-ref">Ingesting Datasets into Cloud Storage</span></a> for details on how to ingest data and link it into the catalog.</p>
</div>
<div class="section" id="leap-pangeo-jupyterhub">
<span id="reference-infrastructure-hub"></span><h2>LEAP-Pangeo JupyterHub<a class="headerlink" href="#leap-pangeo-jupyterhub" title="Permalink to this headline">¶</a></h2>
<p>Our team has a cloud-based <a class="reference external" href="https://jupyter.org/hub">JupyterHub</a>.
For information who can access the hub with which privileges, please refer to <a class="reference internal" href="membership.html#reference-membership-tiers"><span class="std std-ref">Membership Tiers</span></a>.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Hub Address</strong></p></td>
<td><p><a class="reference external" href="https://leap.2i2c.cloud/">https://leap.2i2c.cloud/</a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Hub Location</strong></p></td>
<td><p><a class="reference external" href="https://cloud.google.com/compute/docs/regions-zones">Google Cloud <code class="docutils literal notranslate"><span class="pre">us-central1</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><strong>Hub Operator</strong></p></td>
<td><p><a class="reference external" href="https://2i2c.org/">2i2c</a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Hub Configuration</strong></p></td>
<td><p><a class="reference external" href="https://github.com/2i2c-org/infrastructure/tree/master/config/clusters/leap">https://github.com/2i2c-org/infrastructure/tree/master/config/clusters/leap</a></p></td>
</tr>
</tbody>
</table>
<p>This document goes over the primary technical details of the JupyterHub.</p>
<ul class="simple">
<li><p>For a quick tutorial on basic usage, please check out our <a class="reference internal" href="../tutorials/getting_started.html#tutorial-getting-started"><span class="std std-ref">Getting Started</span></a> tutorial.</p></li>
<li><p>To get an in-depth overview of the LEAP Pangeo Architecture and how the JupyterHub fits into it, please see the <a class="reference internal" href="../explanation/architecture.html#explanation-architecture"><span class="std std-ref">Architecture</span></a> page.</p></li>
</ul>
<div class="section" id="server">
<span id="reference-infrastructure-hub-server"></span><h3>Server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h3>
<div class="section" id="managing-servers">
<h4>Managing Servers<a class="headerlink" href="#managing-servers" title="Permalink to this headline">¶</a></h4>
<p>You can start and stop your server (and even open multiple named servers) from the <code class="docutils literal notranslate"><span class="pre">Hub</span> <span class="pre">Control</span> <span class="pre">Panel</span></code>. You can get to the hub control panel by navigating to <code class="docutils literal notranslate"><span class="pre">https://leap.2i2c.cloud/hub/home</span></code> in your browser or navigating to <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">Hub</span> <span class="pre">Control</span> <span class="pre">Panel</span></code> from the JupyterLab Interface.</p>
</div>
</div>
<div class="section" id="your-user-directory">
<span id="reference-infrastructure-hub-user-dir"></span><h3>Your User Directory<a class="headerlink" href="#your-user-directory" title="Permalink to this headline">¶</a></h3>
<p>When you open your hub, you can navigate to the “File Browser” and see all the files in your User Directory
<a class="reference internal" href="https://github.com/leap-stc/leap-stc.github.io/assets/14314623/3ba6b45a-a077-4824-b0ec-9c111af50c33"><img alt="image" src="https://github.com/leap-stc/leap-stc.github.io/assets/14314623/3ba6b45a-a077-4824-b0ec-9c111af50c33" style="width: 442px;" /></a></p>
<p>Your User Directory behaves very similar to a filestystem on your computer. If you save a file from a notebook, you will see it appear in the File Browser (you might have to wait a few seconds or press refresh) and you can use a terminal to navigate the terminal as you would on a UNIX machine:</p>
<a class="reference internal image-reference" href="https://github.com/leap-stc/leap-stc.github.io/assets/14314623/a84c12e2-9f8a-4de1-a3e3-feff1bf59061"><img alt="image" src="https://github.com/leap-stc/leap-stc.github.io/assets/14314623/a84c12e2-9f8a-4de1-a3e3-feff1bf59061" style="width: 357px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As shown in the picture above, every user will see <code class="docutils literal notranslate"><span class="pre">'/home/jovyan'</span></code> as their root directory. This is different from many HPC accounts where your home directory will point to a directory with your username. But the functionality is similar. These are <em>your own files</em> and they cannot be seen/modified by other users (except admins).</p>
</div>
<p>The primary purpose of this directory is to store small files, like github repositories and other code.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To accommodate the expanding LEAP community, the data and compute team has instituted a storage quota on individual user directories <code class="docutils literal notranslate"><span class="pre">/home/jovyan</span></code>. Your home directory is intended only for notebooks, analysis scripts, and small datasets (&lt; 1 GB). It is not an appropriate place to store large datasets. Unlike the cloud buckets, these directories use an underlying storage with a rigid limit. If a single user fills up the space, the Hub crashes for everyone. We recommend users use less than 25GB and enforce a hard limit of 50GB. <strong>Users who persistently violate the limit may temporarily get reduced cloud access</strong>.</p>
<p>To check how much space you are using in your home directory open a terminal window on the hub and run <code class="docutils literal notranslate"><span class="pre">du</span> <span class="pre">-h</span> <span class="pre">--max-depth=1</span> <span class="pre">~/</span> <span class="pre">|</span> <span class="pre">sort</span> <span class="pre">-h</span></code>.</p>
<p>If you want to save larger files for your work use our <a class="reference internal" href="#reference-infrastructure-buckets"><span class="std std-ref">LEAP-Pangeo Cloud Storage Buckets</span></a> and consult our <a class="reference internal" href="../guides/data_guide.html#guide-data"><span class="std std-ref">Hub Data Guide</span></a>. See the <a class="reference internal" href="../guides/faq.html#faq-usr-dir-usage-warning"><span class="std std-ref">FAQs</span></a> for guidance on reducing storage.</p>
</div>
</div>
<div class="section" id="the-software-environment">
<span id="reference-infrastructure-hub-software-env"></span><h3>The Software Environment<a class="headerlink" href="#the-software-environment" title="Permalink to this headline">¶</a></h3>
<p>The software environment you encounter on the Hub is based upon <a class="reference external" href="https://www.digitalocean.com/community/tutorials/the-docker-ecosystem-an-introduction-to-common-components">docker images</a> which you can run on other machines (like your laptop or an HPC cluster) for better reproducibility.</p>
<p>Upon start up you can choose between</p>
<ul class="simple">
<li><p>A list of preselected images</p></li>
<li><p>The option of passing a custom docker image via the <code class="docutils literal notranslate"><span class="pre">&quot;Other...&quot;</span></code> option.</p></li>
</ul>
<div class="section" id="preselected-images">
<h4>Preselected Images<a class="headerlink" href="#preselected-images" title="Permalink to this headline">¶</a></h4>
<p>LEAP-Pangeo uses several full-featured, up-to-date Python environments maintained by Pangeo. You can read all about them at the following URL:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/pangeo-data/pangeo-docker-images/">https://github.com/pangeo-data/pangeo-docker-images/</a></p></li>
</ul>
<p>There are separate images for pytorch and tensorflow which are available in a drop-down panel when starting up your server.
The Hub contains a specific version of the image which can be found <a class="reference external" href="https://github.com/2i2c-org/infrastructure/blob/master/config/clusters/leap/common.values.yaml">here</a>.</p>
<p>For example, at the time of writing, the version of <code class="docutils literal notranslate"><span class="pre">pangeo-notebook</span></code> is <code class="docutils literal notranslate"><span class="pre">2022.05.10</span></code>.
A complete list of all packages installed in this environment is located at:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/pangeo-data/pangeo-docker-images/blob/2022.05.10/pangeo-notebook/packages.txt">https://github.com/pangeo-data/pangeo-docker-images/blob/2022.05.10/pangeo-notebook/packages.txt</a></p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>We regularly update the version of the images provided in the drop-down menu.</p>
<p>To ensure full reproducibility you should save the full info of the image you worked with (this is stored in the environment variable <code class="docutils literal notranslate"><span class="pre">JUPYTER_IMAGE_SPEC</span></code>) with your work. You could for example print the following in the first cell of a notebook:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;JUPYTER_IMAGE_SPEC&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>You can then use that string with the <a class="reference internal" href="#reference-infrastructure-hub-image-custom"><span class="std std-ref">custom images</span></a> to reproduce your work with exactly the same environment.</p>
</div>
</div>
<div class="section" id="custom-images">
<span id="reference-infrastructure-hub-image-custom"></span><h4>Custom Images<a class="headerlink" href="#custom-images" title="Permalink to this headline">¶</a></h4>
<p>If you select the <code class="docutils literal notranslate"><span class="pre">Image</span> <span class="pre">&gt;</span> <span class="pre">Other...</span></code> Option during <a class="reference internal" href="../tutorials/getting_started.html#hub-server-login"><span class="std std-ref">server login</span></a> you can paste an arbitrary reference in the form of <code class="docutils literal notranslate"><span class="pre">docker_registry/organization/image_name:image_version</span></code>. As an example we can get the <code class="docutils literal notranslate"><span class="pre">2023.05.08</span></code> version of the pangeo tensorflow notebook by pasting <code class="docutils literal notranslate"><span class="pre">quay.io/pangeo/ml-notebook:2023.05.08</span></code>.</p>
<p>If you want to build your own docker image for your project, take a look at <a class="reference external" href="https://github.com/2i2c-org/hub-user-image-template">this template</a> and the instructions to learn how to use <a class="reference external" href="https://github.com/jupyterhub/repo2docker">repo2docker</a> to set up CI workflows to automatically build docker images from your repository.</p>
</div>
<div class="section" id="installing-additonal-packages">
<span id="reference-infrastructure-hub-software-env-temp-install"></span><h4>Installing additonal packages<a class="headerlink" href="#installing-additonal-packages" title="Permalink to this headline">¶</a></h4>
<p>You can install additional packages using <code class="docutils literal notranslate"><span class="pre">pip</span></code> and <code class="docutils literal notranslate"><span class="pre">conda</span></code>.
However, these will disappear when your server shuts down.</p>
<p>For a more permanent solution we recommend building project specific dockerfiles and using those as <a class="reference internal" href="#reference-infrastructure-hub-image-custom"><span class="std std-ref">custom images</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="cloud-storage">
<h2>Cloud Storage<a class="headerlink" href="#cloud-storage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="m2lines-osn-pod">
<span id="reference-infrastructrue-osn-pod"></span><h3>m2lines OSN Pod<a class="headerlink" href="#m2lines-osn-pod" title="Permalink to this headline">¶</a></h3>
<div class="section" id="osn-pod-organization">
<span id="reference-infrastructrue-osn-pod-organization"></span><h4>OSN Pod Organization<a class="headerlink" href="#osn-pod-organization" title="Permalink to this headline">¶</a></h4>
<p>The ~1PB storage on the OSN Pod can be customized into Projects and Buckets. Projects are used to give additional users access to the Coldfront Admin Console, whereas buckets are how storage is administered up on the Pod. A project can have multiple buckets.</p>
<p>There are currently 3 principal Projects on the Pod:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pangeo'</span></code>: Used for Data Ingestion across the m2lines and LEAP community</p>
<ul>
<li><p>Buckets:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pangeo-manual'</span></code>: <strong>No write access for users</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pangeo-pipeline'</span></code>: <strong>No write access for users</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pangeo-inbox'</span></code>: <em>Write access can be shared with users who want to add data e.g. from an HPC center</em></p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'m2lines'</span></code>: Used for project data and publications from the m2lines project</p>
<ul>
<li><p>Buckets:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'m2lines-pubs'</span></code>: <strong>No write access for users</strong></p></li>
<li><p>… various project buckets</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap'</span></code>: Used for project data and publications from the LEAP project</p>
<ul>
<li><p>Buckets:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pubs'</span></code>: <strong>No write access for users</strong></p></li>
<li><p>… various project buckets</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="credentials">
<span id="reference-infrastructrue-osn-pod-credentials"></span><h4>Credentials<a class="headerlink" href="#credentials" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All OSN credentials are long lived and should be treated as such. Please do not share them publicly (e.g. in your notebook or a github repository) and when sharing with e.g. collaborators use an encrypted way of sharing (e.g. password manager).</p>
</div>
<p>Credentials for the OSN Pod are specific to each bucket. There are two types of credentials: “Read-only” and “Read-Write”. Exercise caution when sharing/saving secrets, particularly the latter. Each type of credentials consists of two keys (access + secret). Both are required to access the bucket, and they are shared by the OSN Admin.</p>
</div>
</div>
</div>
<div class="section" id="leap-pangeo-cloud-storage-buckets">
<span id="reference-infrastructure-buckets"></span><h2>LEAP-Pangeo Cloud Storage Buckets<a class="headerlink" href="#leap-pangeo-cloud-storage-buckets" title="Permalink to this headline">¶</a></h2>
<p>LEAP-Pangeo provides users two cloud buckets to store data. Your <a class="reference internal" href="#reference-infrastructure-hub-server"><span class="std std-ref">Server</span></a> is automatically authenticated to read from any of these buckets but write access might differ (see below). See <a class="reference internal" href="#reference-authentication"><span class="std std-ref">Access to LEAP-Pangeo resources without the JupyterHub</span></a> for details on how to access buckets from ‘outside’ the JupyterHub.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gs://leap-scratch/</span></code> - Temporary Storage deleted after 7 days. Use this bucket for testing and storing large intermediate results. <a class="reference external" href="https://docs.2i2c.org/user/topics/data/cloud/#scratch-bucket">More info</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gs://leap-persistent/</span></code> - Persistent Storage. Use this bucket for storing results you want to share with other members.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gs://leap-persistent-ro/</span></code> - Persistent Storage with read-only access for most users. To upload data to this bucket you need to use <a class="reference internal" href="../guides/data_guides/transfer_data.html#hub-data-upload-hpc"><span class="std std-ref">this</span></a> method below.</p></li>
</ul>
<p>Files stored on each of those buckets can be accessed by any LEAP member, so be concious in the way you use these.</p>
<ul class="simple">
<li><p><strong>Do not put sensitive information (passwords, keys, personal data) into these buckets!</strong></p></li>
<li><p><strong>When writing to buckets only ever write to your personal folder!</strong> Your personal folder is a combination of the bucketname and your github username (e.g. `gs://leap-persistent/funky-user/’).</p></li>
</ul>
</div>
<div class="section" id="compute">
<h2>Compute<a class="headerlink" href="#compute" title="Permalink to this headline">¶</a></h2>
<p>🚧</p>
</div>
<div class="section" id="access-to-leap-pangeo-resources-without-the-jupyterhub">
<span id="reference-authentication"></span><h2>Access to LEAP-Pangeo resources without the JupyterHub<a class="headerlink" href="#access-to-leap-pangeo-resources-without-the-jupyterhub" title="Permalink to this headline">¶</a></h2>
<div class="section" id="temporary-token">
<span id="reference-authentication-temp-token"></span><h3>Temporary Token<a class="headerlink" href="#temporary-token" title="Permalink to this headline">¶</a></h3>
<p>You can generate a temporary (1 hour) token with read/write access as follows:</p>
<ul class="simple">
<li><p>Now start up a <a class="reference external" href="https://leap.2i2c.cloud">LEAP-Pangeo server</a> and open a terminal. Install the <a class="reference external" href="https://cloud.google.com/sdk/docs/install">Google Cloud SDK</a> using mamba</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mamba<span class="w"> </span>install<span class="w"> </span>google-cloud-sdk
</pre></div>
</div>
<p>Now you can generate a temporary token (valid for 1 hour) that allows you to upload data to the cloud.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>gcloud<span class="w"> </span>auth<span class="w"> </span>print-access-token
</pre></div>
</div>
<p>This will print a temporary token in the terminal. You can e.g. copy that to your clipboard.</p>
</div>
<div class="section" id="persistent-access-via-google-groups">
<span id="reference-authentication-google-groups"></span><h3>Persistent Access via Google Groups<a class="headerlink" href="#persistent-access-via-google-groups" title="Permalink to this headline">¶</a></h3>
<p>We manage access rights through <a class="reference external" href="https://groups.google.com">Google Groups</a>. Please contact the <a class="reference internal" href="../support.html#support-data-compute-team"><span class="std std-ref">Data and Computation Team</span></a> to get added to the appropriate group (a gmail address is required for this).</p>
</div>
<div class="section" id="service-account">
<h3>Service Account<a class="headerlink" href="#service-account" title="Permalink to this headline">¶</a></h3>
<p>If you want more permanent access to resources, e.g. as part of a repositories CI using a service account, please reach out to the <a class="reference internal" href="../support.html#support-data-compute-team"><span class="std std-ref">Data and Computation Team</span></a> to discuss options.</p>
</div>
</div>
<div class="section" id="analysis-ready-cloud-optimized-arco-data">
<span id="reference-arco"></span><h2>Analysis-Ready Cloud-Optimized (ARCO) Data<a class="headerlink" href="#analysis-ready-cloud-optimized-arco-data" title="Permalink to this headline">¶</a></h2>
<p>Below you can find some examples of ARCO data formats</p>
<div class="section" id="zarr">
<h3>Zarr<a class="headerlink" href="#zarr" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://zarr.dev">zarr</a></p>
</div>
</div>
<div class="section" id="pangeo-forge">
<span id="reference-pangeo-forge"></span><h2>Pangeo-Forge<a class="headerlink" href="#pangeo-forge" title="Permalink to this headline">¶</a></h2>
<p>You can find more information about Pangeo-Forge <a class="reference external" href="https://pangeo-forge.readthedocs.io/en/latest/">here</a>.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./reference"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../explanation/infrastructure_policy.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">LEAP-Pangeo Infrastructure Policy</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="membership.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Membership</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By LEAP Community<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>