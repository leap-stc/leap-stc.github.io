
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Infrastructure &#8212; Technical Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/infrastructure';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Membership" href="membership.html" />
    <link rel="prev" title="FAQs" href="../guides/faq.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/LEAP_logo.png" class="logo__image only-light" alt="Technical Documentation - Home"/>
    <script>document.write(`<img src="../_static/LEAP_logo.png" class="logo__image only-dark" alt="Technical Documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    LEAP Technical Documentation
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tutorials/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/ingesting_dataset.html">Data Ingestion Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/education_guide.html">Teaching Classes (Education)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/bootcamp_guide.html">Running Bootcamps</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Explanation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../explanation/architecture.html">LEAP-Pangeo Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/implementation.html">LEAP-Pangeo Implementation Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/code_policy.html">LEAP-Pangeo Code Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/data_policy.html">LEAP-Pangeo Data Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/infrastructure_policy.html">LEAP-Pangeo Infrastructure Policy</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../guides/code_guide.html">Code Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/data_guide.html">Data Guide</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../guides/data_guides/transfer_data.html">Transferring Data into Cloud Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/data_guides/data_catalog.html">Working with the LEAP Data Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/data_guides/data_jupyterhub.html">Working with Cloud Data on the JupyterHub</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/compute_guide.html">Compute Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/vm_access.html">Getting access to Cloud VMs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/team_guide.html">Guide for Data and Computation Team Members</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/faq.html">FAQs</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="membership.html">Membership</a></li>
<li class="toctree-l1"><a class="reference internal" href="education.html">Education</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../support.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_to_cite.html">How to cite LEAP-Pangeo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/leap-stc/leap-stc.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/leap-stc/leap-stc.github.io/issues/new?title=Issue%20on%20page%20%2Freference/infrastructure.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/reference/infrastructure.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Infrastructure</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#leap-pangeo-data-catalog">LEAP-Pangeo Data Catalog</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#leap-pangeo-jupyterhub">LEAP-Pangeo JupyterHub</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#server">Server</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-servers">Managing Servers</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#your-user-directory">Your User Directory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-software-environment">The Software Environment</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#preselected-images">Preselected Images</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-images">Custom Images</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-additonal-packages">Installing additonal packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-storage">Cloud Storage</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leap-osn-pod">LEAP OSN Pod</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#osn-pod-organization">OSN Pod Organization</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#credentials">Credentials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#leap-pangeo-cloud-storage-buckets">LEAP-Pangeo Cloud Storage Buckets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#compute">Compute</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#access-to-leap-pangeo-resources-without-the-jupyterhub">Access to LEAP-Pangeo resources without the JupyterHub</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#temporary-token">Temporary Token</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#persistent-access-via-google-groups">Persistent Access via Google Groups</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#service-account">Service Account</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-ready-cloud-optimized-arco-data">Analysis-Ready Cloud-Optimized (ARCO) Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#zarr">Zarr</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="infrastructure">
<h1>Infrastructure<a class="headerlink" href="#infrastructure" title="Link to this heading">#</a></h1>
<section id="leap-pangeo-data-catalog">
<span id="reference-infrastructure-catalog"></span><h2>LEAP-Pangeo Data Catalog<a class="headerlink" href="#leap-pangeo-data-catalog" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Catalog Address</strong></p></td>
<td><p><a class="reference external" href="http://catalog.leap.columbia.edu">catalog.leap.columbia.edu</a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Management Repo</strong></p></td>
<td><p><a class="github reference external" href="https://github.com/leap-stc/data-management">leap-stc/data-management</a></p></td>
</tr>
<tr class="row-even"><td><p><strong>Maintained in collaboration with</strong></p></td>
<td><p><a class="reference external" href="https://carbonplan.org">Carbonplan</a></p></td>
</tr>
</tbody>
</table>
</div>
<p>For more explanation about the catalog, and its role in the overall vision of LEAP, see <a class="reference internal" href="../explanation/architecture.html#explanation-architecture"><span class="std std-ref">LEAP-Pangeo Architecture</span></a>. See <a class="reference internal" href="../guides/data_guides/transfer_data.html#guides-data-ingestion"><span class="std std-ref">Ingesting Datasets into Cloud Storage</span></a> for details on how to ingest data and link it into the catalog.</p>
</section>
<section id="leap-pangeo-jupyterhub">
<span id="reference-infrastructure-hub"></span><h2>LEAP-Pangeo JupyterHub<a class="headerlink" href="#leap-pangeo-jupyterhub" title="Link to this heading">#</a></h2>
<p>Our team has a cloud-based <a class="reference external" href="https://jupyter.org/hub">JupyterHub</a>.
For information who can access the hub with which privileges, please refer to <a class="reference internal" href="membership.html#reference-membership-tiers"><span class="std std-ref">Membership Tiers</span></a>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Hub Address</strong></p></td>
<td><p><a class="reference external" href="https://leap.2i2c.cloud/">https://leap.2i2c.cloud/</a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Hub Location</strong></p></td>
<td><p><a class="reference external" href="https://cloud.google.com/compute/docs/regions-zones">Google Cloud <code class="docutils literal notranslate"><span class="pre">us-central1</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><strong>Hub Operator</strong></p></td>
<td><p><a class="reference external" href="https://2i2c.org/">2i2c</a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Hub Configuration</strong></p></td>
<td><p><a class="github reference external" href="https://github.com/2i2c-org/infrastructure/tree/master/config/clusters/leap">2i2c-org/infrastructure</a></p></td>
</tr>
</tbody>
</table>
</div>
<p>This document goes over the primary technical details of the JupyterHub.</p>
<ul class="simple">
<li><p>For a quick tutorial on basic usage, please check out our <a class="reference internal" href="../tutorials/getting_started.html#tutorial-getting-started"><span class="std std-ref">Getting Started</span></a> tutorial.</p></li>
<li><p>To get an in-depth overview of the LEAP Pangeo Architecture and how the JupyterHub fits into it, please see the <a class="reference internal" href="../explanation/architecture.html#explanation-architecture"><span class="std std-ref">Architecture</span></a> page.</p></li>
</ul>
<section id="server">
<span id="reference-infrastructure-hub-server"></span><h3>Server<a class="headerlink" href="#server" title="Link to this heading">#</a></h3>
<section id="managing-servers">
<h4>Managing Servers<a class="headerlink" href="#managing-servers" title="Link to this heading">#</a></h4>
<p>You can start and stop your server (and even open multiple named servers) from the <code class="docutils literal notranslate"><span class="pre">Hub</span> <span class="pre">Control</span> <span class="pre">Panel</span></code>. You can get to the hub control panel by navigating to <code class="docutils literal notranslate"><span class="pre">https://leap.2i2c.cloud/hub/home</span></code> in your browser or navigating to <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">Hub</span> <span class="pre">Control</span> <span class="pre">Panel</span></code> from the JupyterLab Interface.</p>
</section>
</section>
<section id="your-user-directory">
<span id="reference-infrastructure-hub-user-dir"></span><h3>Your User Directory<a class="headerlink" href="#your-user-directory" title="Link to this heading">#</a></h3>
<p>When you open your hub, you can navigate to the ‚ÄúFile Browser‚Äù and see all the files in your User Directory
<a class="reference internal" href="https://github.com/leap-stc/leap-stc.github.io/assets/14314623/3ba6b45a-a077-4824-b0ec-9c111af50c33"><img alt="image" src="https://github.com/leap-stc/leap-stc.github.io/assets/14314623/3ba6b45a-a077-4824-b0ec-9c111af50c33" style="width: 442px;" /></a></p>
<p>Your User Directory behaves very similar to a filestystem on your computer. If you save a file from a notebook, you will see it appear in the File Browser (you might have to wait a few seconds or press refresh) and you can use a terminal to navigate the terminal as you would on a UNIX machine:</p>
<a class="reference internal image-reference" href="https://github.com/leap-stc/leap-stc.github.io/assets/14314623/a84c12e2-9f8a-4de1-a3e3-feff1bf59061"><img alt="image" src="https://github.com/leap-stc/leap-stc.github.io/assets/14314623/a84c12e2-9f8a-4de1-a3e3-feff1bf59061" style="width: 357px;" />
</a>
<div class="\{note} docutils">
<p>As shown in the picture above, every user will see <code class="docutils literal notranslate"><span class="pre">'/home/jovyan'</span></code> as their root directory. This is different from many HPC accounts where your home directory will point to a directory with your username. But the functionality is similar. These are <em>your own files</em> and they cannot be seen/modified by other users (except admins).</p>
</div>
<p>The primary purpose of this directory is to store small files, like github repositories and other code.</p>
<div class="\{warning} docutils">
<p>To accommodate the expanding LEAP community, the data and compute team has instituted a storage quota on individual user directories <code class="docutils literal notranslate"><span class="pre">/home/jovyan</span></code>. Your home directory is intended only for notebooks, analysis scripts, and small datasets (&lt; 1 GB). It is not an appropriate place to store large datasets. Unlike the cloud buckets, these directories use an underlying storage with a rigid limit. If a single user fills up the space, the Hub crashes for everyone. We recommend users use less than 25GB and enforce a hard limit of 50GB. <strong>Users who persistently violate the limit may temporarily get reduced cloud access</strong>.</p>
<p>To check how much space you are using in your home directory open a terminal window on the hub and run <code class="docutils literal notranslate"><span class="pre">du</span> <span class="pre">-h</span> <span class="pre">--max-depth=1</span> <span class="pre">~/</span> <span class="pre">|</span> <span class="pre">sort</span> <span class="pre">-h</span></code>.</p>
<p>If you want to save larger files for your work use our <a class="reference internal" href="#reference-infrastructure-buckets"><span class="std std-ref">LEAP-Pangeo Cloud Storage Buckets</span></a> and consult our <a class="reference internal" href="../guides/data_guide.html#guide-data"><span class="std std-ref">Hub Data Guide</span></a>. See the <a class="reference internal" href="../guides/faq.html#faq-usr-dir-usage-warning"><span class="std std-ref">FAQs</span></a> for guidance on reducing storage.</p>
</div>
</section>
<section id="the-software-environment">
<span id="reference-infrastructure-hub-software-env"></span><h3>The Software Environment<a class="headerlink" href="#the-software-environment" title="Link to this heading">#</a></h3>
<p>The software environment you encounter on the Hub is based upon <a class="reference external" href="https://www.digitalocean.com/community/tutorials/the-docker-ecosystem-an-introduction-to-common-components">docker images</a> which you can run on other machines (like your laptop or an HPC cluster) for better reproducibility.</p>
<p>Upon start up you can choose between</p>
<ul class="simple">
<li><p>A list of preselected images</p></li>
<li><p>The option of passing a custom docker image via the <code class="docutils literal notranslate"><span class="pre">&quot;Other...&quot;</span></code> option.</p></li>
</ul>
<section id="preselected-images">
<h4>Preselected Images<a class="headerlink" href="#preselected-images" title="Link to this heading">#</a></h4>
<p>LEAP-Pangeo uses several full-featured, up-to-date Python environments maintained by Pangeo. You can read all about them at the following URL:</p>
<ul class="simple">
<li><p><a class="github reference external" href="https://github.com/pangeo-data/pangeo-docker-images/">pangeo-data/pangeo-docker-images</a></p></li>
</ul>
<p>There are separate images for pytorch and tensorflow which are available in a drop-down panel when starting up your server.
The Hub contains a specific version of the image which can be found <a class="reference external" href="https://github.com/2i2c-org/infrastructure/blob/master/config/clusters/leap/common.values.yaml">here</a>.</p>
<p>For example, at the time of writing, the version of <code class="docutils literal notranslate"><span class="pre">pangeo-notebook</span></code> is <code class="docutils literal notranslate"><span class="pre">2022.05.10</span></code>.
A complete list of all packages installed in this environment is located at:</p>
<ul class="simple">
<li><p><a class="github reference external" href="https://github.com/pangeo-data/pangeo-docker-images/blob/2022.05.10/pangeo-notebook/packages.txt">pangeo-data/pangeo-docker-images</a></p></li>
</ul>
<div class="\{attention} docutils">
<p>We regularly update the version of the images provided in the drop-down menu.</p>
<p>To ensure full reproducibility you should save the full info of the image you worked with (this is stored in the environment variable <code class="docutils literal notranslate"><span class="pre">JUPYTER_IMAGE_SPEC</span></code>) with your work. You could for example print the following in the first cell of a notebook:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;JUPYTER_IMAGE_SPEC&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>You can then use that string with the <a class="reference internal" href="#reference-infrastructure-hub-image-custom"><span class="std std-ref">custom images</span></a> to reproduce your work with exactly the same environment.</p>
</div>
</section>
<section id="custom-images">
<span id="reference-infrastructure-hub-image-custom"></span><h4>Custom Images<a class="headerlink" href="#custom-images" title="Link to this heading">#</a></h4>
<p>If you select the <code class="docutils literal notranslate"><span class="pre">Image</span> <span class="pre">&gt;</span> <span class="pre">Other...</span></code> Option during <a class="reference internal" href="../tutorials/getting_started.html#hub-server-login"><span class="std std-ref">server login</span></a> you can paste an arbitrary reference in the form of <code class="docutils literal notranslate"><span class="pre">docker_registry/organization/image_name:image_version</span></code>. As an example we can get the <code class="docutils literal notranslate"><span class="pre">2023.05.08</span></code> version of the pangeo tensorflow notebook by pasting <code class="docutils literal notranslate"><span class="pre">quay.io/pangeo/ml-notebook:2023.05.08</span></code>.</p>
<p>If you want to build your own docker image for your project, take a look at <a class="reference external" href="https://github.com/2i2c-org/hub-user-image-template">this template</a> and the instructions to learn how to use <a class="reference external" href="https://github.com/jupyterhub/repo2docker">repo2docker</a> to set up CI workflows to automatically build docker images from your repository.</p>
</section>
<section id="installing-additonal-packages">
<span id="reference-infrastructure-hub-software-env-temp-install"></span><h4>Installing additonal packages<a class="headerlink" href="#installing-additonal-packages" title="Link to this heading">#</a></h4>
<p>You can install additional packages using <code class="docutils literal notranslate"><span class="pre">pip</span></code> and <code class="docutils literal notranslate"><span class="pre">conda</span></code>.
However, these will disappear when your server shuts down.</p>
<p>For a more permanent solution we recommend building project specific dockerfiles and using those as <a class="reference internal" href="#reference-infrastructure-hub-image-custom"><span class="std std-ref">custom images</span></a>.</p>
</section>
</section>
</section>
<section id="cloud-storage">
<h2>Cloud Storage<a class="headerlink" href="#cloud-storage" title="Link to this heading">#</a></h2>
<section id="leap-osn-pod">
<span id="reference-infrastructure-osn-pod"></span><h3>LEAP OSN Pod<a class="headerlink" href="#leap-osn-pod" title="Link to this heading">#</a></h3>
<section id="osn-pod-organization">
<span id="reference-infrastructure-osn-pod-organization"></span><h4>OSN Pod Organization<a class="headerlink" href="#osn-pod-organization" title="Link to this heading">#</a></h4>
<p>The ~1PB storage on the OSN Pod can be customized into Projects and Buckets. Projects are used to give additional users access to the Coldfront Admin Console, whereas buckets are how storage is administered up on the Pod. A project can have multiple buckets.</p>
<p>There are currently 3 principal Projects on the Pod:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pangeo'</span></code>: Used for Data Ingestion across the m2lines and LEAP community</p>
<ul>
<li><p>Buckets:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pangeo-manual'</span></code>: <strong>No write access for users</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pangeo-pipeline'</span></code>: <strong>No write access for users</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pangeo-inbox'</span></code>: <em>Write access can be shared with users who want to add data e.g. from an HPC center</em></p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'m2lines'</span></code>: Used for project data and publications from the m2lines project</p>
<ul>
<li><p>Buckets:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'m2lines-pubs'</span></code>: <strong>No write access for users</strong></p></li>
<li><p>‚Ä¶ various project buckets</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap'</span></code>: Used for project data and publications from the LEAP project</p>
<ul>
<li><p>Buckets:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'leap-pubs'</span></code>: <strong>No write access for users</strong></p></li>
<li><p>‚Ä¶ various project buckets</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="credentials">
<span id="reference-infrastructure-osn-pod-credentials"></span><h4>Credentials<a class="headerlink" href="#credentials" title="Link to this heading">#</a></h4>
<div class="\{warning} docutils">
<p>All OSN credentials are long lived and should be treated as such. Please do not share them publicly (e.g. in your notebook or a github repository) and when sharing with e.g. collaborators use an encrypted way of sharing (e.g. password manager).</p>
</div>
<p>Credentials for the OSN Pod are specific to each bucket. There are two types of credentials: ‚ÄúRead-only‚Äù and ‚ÄúRead-Write‚Äù. Exercise caution when sharing/saving secrets, particularly the latter. Each type of credentials consists of two keys (access + secret). Both are required to access the bucket, and they are shared by the OSN Admin.</p>
</section>
</section>
</section>
<section id="leap-pangeo-cloud-storage-buckets">
<span id="reference-infrastructure-buckets"></span><h2>LEAP-Pangeo Cloud Storage Buckets<a class="headerlink" href="#leap-pangeo-cloud-storage-buckets" title="Link to this heading">#</a></h2>
<p>LEAP-Pangeo provides users two cloud buckets to store data. Your <a class="reference internal" href="#reference-infrastructure-hub-server"><span class="std std-ref">Server</span></a> is automatically authenticated to read from any of these buckets but write access might differ (see below). See <a class="reference internal" href="#reference-authentication"><span class="std std-ref">Access to LEAP-Pangeo resources without the JupyterHub</span></a> for details on how to access buckets from ‚Äòoutside‚Äô the JupyterHub.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gs://leap-scratch/</span></code> - Temporary Storage deleted after 7 days. Use this bucket for testing and storing large intermediate results. <a class="reference external" href="https://docs.2i2c.org/user/topics/data/cloud/#scratch-bucket">More info</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gs://leap-persistent/</span></code> - Persistent Storage. Use this bucket for storing results you want to share with other members.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gs://leap-persistent-ro/</span></code> - Persistent Storage with read-only access for most users.</p></li>
</ul>
<p>Files stored on each of those buckets can be accessed by any LEAP member, so be concious in the way you use these.</p>
<ul class="simple">
<li><p><strong>Do not put sensitive information (passwords, keys, personal data) into these buckets!</strong></p></li>
<li><p><strong>When writing to buckets only ever write to your personal folder!</strong> Your personal folder is a combination of the bucketname and your github username (e.g. `gs://leap-persistent/funky-user/‚Äô).</p></li>
</ul>
</section>
<section id="compute">
<h2>Compute<a class="headerlink" href="#compute" title="Link to this heading">#</a></h2>
<p>üöß</p>
</section>
<section id="access-to-leap-pangeo-resources-without-the-jupyterhub">
<span id="reference-authentication"></span><h2>Access to LEAP-Pangeo resources without the JupyterHub<a class="headerlink" href="#access-to-leap-pangeo-resources-without-the-jupyterhub" title="Link to this heading">#</a></h2>
<section id="temporary-token">
<span id="reference-authentication-temp-token"></span><h3>Temporary Token<a class="headerlink" href="#temporary-token" title="Link to this heading">#</a></h3>
<p>You can generate a temporary (1 hour) token with read/write access as follows:</p>
<ul class="simple">
<li><p>Now start up a <a class="reference external" href="https://leap.2i2c.cloud">LEAP-Pangeo server</a> and open a terminal. Install the <a class="reference external" href="https://cloud.google.com/sdk/docs/install">Google Cloud SDK</a> using mamba</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mamba<span class="w"> </span>install<span class="w"> </span>google-cloud-sdk
</pre></div>
</div>
<p>Now you can generate a temporary token (valid for 1 hour) that allows you to upload data to the cloud.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>gcloud<span class="w"> </span>auth<span class="w"> </span>print-access-token
</pre></div>
</div>
<p>This will print a temporary token in the terminal. You can e.g. copy that to your clipboard.</p>
</section>
<section id="persistent-access-via-google-groups">
<span id="reference-authentication-google-groups"></span><h3>Persistent Access via Google Groups<a class="headerlink" href="#persistent-access-via-google-groups" title="Link to this heading">#</a></h3>
<p>We manage access rights through <a class="reference external" href="https://groups.google.com">Google Groups</a>. Please contact the <a class="reference internal" href="../support.html#support-data-compute-team"><span class="std std-ref">Data and Computation Team</span></a> to get added to the appropriate group (a gmail address is required for this).</p>
</section>
<section id="service-account">
<h3>Service Account<a class="headerlink" href="#service-account" title="Link to this heading">#</a></h3>
<p>If you want more permanent access to resources, e.g. as part of a repositories CI using a service account, please reach out to the <a class="reference internal" href="../support.html#support-data-compute-team"><span class="std std-ref">Data and Computation Team</span></a> to discuss options.</p>
</section>
</section>
<section id="analysis-ready-cloud-optimized-arco-data">
<span id="reference-arco"></span><h2>Analysis-Ready Cloud-Optimized (ARCO) Data<a class="headerlink" href="#analysis-ready-cloud-optimized-arco-data" title="Link to this heading">#</a></h2>
<p>Below you can find some examples of ARCO data formats</p>
<section id="zarr">
<h3>Zarr<a class="headerlink" href="#zarr" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://zarr.dev">zarr</a></p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./reference"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../guides/faq.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">FAQs</p>
      </div>
    </a>
    <a class="right-next"
       href="membership.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Membership</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#leap-pangeo-data-catalog">LEAP-Pangeo Data Catalog</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#leap-pangeo-jupyterhub">LEAP-Pangeo JupyterHub</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#server">Server</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-servers">Managing Servers</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#your-user-directory">Your User Directory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-software-environment">The Software Environment</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#preselected-images">Preselected Images</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#custom-images">Custom Images</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-additonal-packages">Installing additonal packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-storage">Cloud Storage</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leap-osn-pod">LEAP OSN Pod</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#osn-pod-organization">OSN Pod Organization</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#credentials">Credentials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#leap-pangeo-cloud-storage-buckets">LEAP-Pangeo Cloud Storage Buckets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#compute">Compute</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#access-to-leap-pangeo-resources-without-the-jupyterhub">Access to LEAP-Pangeo resources without the JupyterHub</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#temporary-token">Temporary Token</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#persistent-access-via-google-groups">Persistent Access via Google Groups</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#service-account">Service Account</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analysis-ready-cloud-optimized-arco-data">Analysis-Ready Cloud-Optimized (ARCO) Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#zarr">Zarr</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By LEAP Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>